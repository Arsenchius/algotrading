### Маркетдата (NDA!!!!!!!!)

## Снапшоты
Содержит следующие колонки:
```
px_buy_1 - цена покупки в стакане на 1 уровне.
cnt_buy_1 - объем покупки в стакане на 1 уровне.
...
px_buy_25 - цена покупки в стакане на 25 уровне.
cnt_buy_25 - объем покупки в стакане на 25 уровне.
px_sell_1 - цена продажи в стакане на 1 уровне.
cnt_sell_1 - объем продажи в стакане на 1 уровне.
...
px_sell_25 - цена продажи в стакане на 25 уровне.
cnt_sell_25 - объем продажи в стакане на 25 уровне.
trade_last_buy_px - цена последнего пришедшего buy side трейда.
trade_last_buy_amt - объем последнего пришедшего buy side трейда.
trade_last_buy_time - adapter time последнего buy side трейда приходящего к нам.
trade_last_sell_px - цена последнего пришедшего sell side трейда.
trade_last_sell_amt - объем последнего пришедшего sell side трейда.
trade_last_sell_time - adapter time последнего sell side трейда приходящего к нам.
event_time - последнее время отправки пакета с сервера(трейд или ордер).
trade_time - последнее время совершение трейда на сервере.
adapter_time - время принятие последнего пакета с локальным временем.
```
В итоге маркетдата по какому инструменту будет выглядеть так:
```
snapshot_1
snapshot_2
snapshot_3
...
snapshot_n
```
Новый снапшот пишется, в двух условиях:
1. Когда приходят аггрегированный набор ордеров, который изменяет стакан на исследумоей нами глубине(по умолчанию 25).
2. Приходит трейд.
## Slices
Содержит следующие колонки:
```
px_buy_1 - цена покупки в стакане на 1 уровне.
cnt_buy_1 - объем покупки в стакане на 1 уровне.
...
px_buy_25 - цена покупки в стакане на 25 уровне.
cnt_buy_25 - объем покупки в стакане на 25 уровне.
px_sell_1 - цена продажи в стакане на 1 уровне.
cnt_sell_1 - объем продажи в стакане на 1 уровне.
...
px_sell_25 - цена продажи в стакане на 25 уровне.
cnt_sell_25 - объем продажи в стакане на 25 уровне.
avg_px - отношение объема продаж с предыдущего снапшота на наторгованный объем.
avg_buy_px - отношение объема продаж с предыдущего снапшота на наторгованный объем buy side.
max_buy_px - максимальная цена трейда buy side с предыдущего снапшота.
min_buy_px - минимальная цена трейда buy side c предыдущего снапшота.
buy_cnt - количество трейдов buy side.
avg_sell_px - отношение объема продаж с предыдущего снапшота на наторгованный объем sell side.
max_sell_px - максимальная цена трейда sell side с предыдущего снапшота.
min_sell_px - минимальная цена трейда sell side c предыдущего снапшота.
sell_cnt - количество трейдов sell side.
event_time - последнее время отправки пакета с сервера(трейд или ордер).
trade_time - последнее время совершение трейда на сервере.
adapter_time - последнее время принятие последнего пакета с локальным временем
slice_time - время срезки слайса.
```
В итоге маркетдата по какому инструменту будет выглядеть так:
```
slice_1
slice_2
slice_3
...
slice_n
```
Слайсы пишутся каждые n миллисекунд, например n = 100мс.
